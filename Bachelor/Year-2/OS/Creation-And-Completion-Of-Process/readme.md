# Создание, завершение процесса

1. [Жизненный цикл процесса](1).
    1. Напишите программу, которая:
        1. создает и инициализирует переменную (можно две: локальную и глобальную);
        2. выводит ее (их) адрес(а) и содержимое;
        3. выводит pid;
        4. порождает новый процесс (используйте `fork(2)`).
        5. в дочернем процессе выводит *pid* и *ppid*.
        6. в дочернем процессе выводит адреса и содержимое переменных, созданных в первом пункте;
        7. в дочернем процессе изменяет содержимое переменных и выводит их значение;
        8. в родительском процессе выводит содержимое переменных;
        9. в родительском процессе делает `sleep(30)`;
        10. в дочернем процессе завершается с кодом "5" (`exit(2)`).
        11. в родительском процессе дожидается завершения дочернего, вычитывает код завершения и выводит причину завершения и код завершения если он есть. В каком случае кода завершения не будет?
    2. Объясните результаты работы программы.
    3. Понаблюдайте за адресными пространствами в *procfs*.
    4. Понаблюдайте за состояниями процесса в procfs или с помощью утилиты *ps*.
2. [Процесс в состоянии зомби](2):
    1. Модифицируйте предыдущую программу так чтобы дочерний процесс становился зомби.
    2. Объясните какую проблему решает данное состояние.
    3. Может ли родительский процесс оказаться в состоянии зомби? Если да,то что в этом случае произойдет с дочерним? Смоделируйте эту ситуацию.
3. [Создание процесса при помощи системного вызова `clone(2)`](3):
    1. Используйте системный вызов `clone(2)` для создания процесса:
        1. Память для стека выделите при помощи `mmap(2)`, таким образом, чтобы новый регион был связан с файлом и синхронизировался с ним при изменении. Т.е. при записи в новый регион, данные должны синхронизироваться с файлом.
        2. Напишите две функции:
            1. Первая — точка входа для нового процесса.
            1. Вторая функция должна выделять на стеке массив со строкой "hello world" и рекурсивно вызывать себя. Глубина рекурсии пусть будет равна 10.
        3. Вызовите вторую функцию из функции нового процесса и после ее исполнения завершите новый процесс.
    2. Исследуйте полученный файл:
        1. найдите строки "hello world". Сколько их и почему столько?
        2. найдите переменную счетчик, которая используется для ограничения рекурсии.
        3. найдите адреса возврата из функций.
